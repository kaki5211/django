{% extends 'app/base.html' %}

  {% block contents %}

      <h3 class="text-white mb-5 bg-dark rounded px-4 py-2 mb-4 font-italic align-middle">
        最近の投稿
      </h3>

      {% for video in manage_list %}
        <article style="text-overflow: ellipsis; " class="row blog-post border">
          <div>
            {% if video.youtube_video_id == new_flag %}<h3 class="text-danger d-inline">New！！</h3>{% endif %}
            <p class="my-2 mb-0 d-inline">{{video.youtube_video_day}}</p>
          </div>
          <div style="min-width:100px" class="col-12 col-sm-4 col-md-4 align-items-center">
            <a href="{% if video.category_id.category_eng != None and video.youtube_video_episode != None %}{% url "video_info" category_eng=video.category_id.category_eng youtube_video_episode=video.youtube_video_episode %}{% else %}{% url "video_info_un" pk=video.pk %}{% endif %}">
              <img style="min-width:100px" class="my-md-3" width="100%" hight="100%" src="https://img.youtube.com/vi/{{ video.youtube_video_id }}/mqdefault.jpg" />
            </a>
          </div>
          <div class="col-sm-8 col-md-8">
            <div>
              <h4 class="mt-3 mb-2 textOverflow ">
                {% if video.category_id.category_eng != None and video.youtube_video_episode != None %}
                  <a href="{% url "video_info" category_eng=video.category_id.category_eng youtube_video_episode=video.youtube_video_episode %}">{{ video.youtube_video_title }}</a>
                {% else %}
                  <a href="{% url "video_info_un" pk=video.pk %}">{{ video.youtube_video_title }}</a>
                {% endif %}
              </h4>
                {% comment %} <h4 class="mt-3 mb-2 textOverflow "><a href="{% url "video_info" pk=video.pk category_eng=video.category_id.category_eng youtube_video_episode=video.youtube_video_episode %}">{{ video.youtube_video_title }}</a></h4> {% endcomment %}

                {% comment %} <p class="my-md-2 textOverflow ">{{ video.youtube_video_contents }}<p> {% endcomment %}
            </div>
            <div class="row align-items-center" style="padding-top: 2%;"></div>
            <div style="padding-left:1%; padding-top:3%; align-items: flex-end;">
              <p class="mb-0" style="height:1.5rem;">カテゴリ： {% if video.category_id %}{{video.category_id}}{% else %}None{% endif %}</p>
              <p class="mb-0" style="height:1.5rem;">episode： {{video.youtube_video_episode}}</p>
              <p class="mb-0" style="height:1.5rem;">メンバー： {% for member_list in video.members.all %}{% if forloop.first == False %}、{% endif %}{{ member_list.member_jp }}{% endfor %}</p>
            </div>
          </div>
        </article>
        <!-- /.blog-post -->
        <div style="padding-top: 1%;" class="mt-1 col-12 col-sm-12 col-md-12"></div>
      {% endfor %}
  <nav aria-label="Page navigation example">

    <ul class="pagination justify-content-center pagination-lg g-mt-28 g-mb-28">
      <!-- 前へ の部分 -->
      {% if page_obj.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page={{ page_obj.previous_page_number }}">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
      {% endif %}

      <!-- 数字の部分 -->
      {% for num in page_obj.paginator.page_range %}
        {% if num <= page_obj.number|add:5 and num >= page_obj.number|add:-5 %}

          {% if page_obj.number == num %}
            <li class="page-item active"><a class="page-link" href="#">{{ num }}</a></li>
          {% else %}
            <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
          {% endif %}
        {% endif %}
      {% endfor %}

      <!-- 次へ の部分 -->
      {% if page_obj.has_next %}
        <li class="page-item">
          <a class="page-link" href="?page={{ page_obj.next_page_number }}">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      {% endif %}
    </ul>

  </nav>

    {% endblock %}
